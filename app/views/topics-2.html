{% extends "layout_two_column.html" %}

{% from "includes/topic_subtopic.html" import topic_subtopic as drawTopicSubtopic %}

{% block head %}
  {% include "includes/head.html" %}
{% endblock %}

{% block page_title %}
  GOV.UK prototype kit
{% endblock %}

{% block main_column %}

<h1>Early years census 2016: technical specification</h1>

<div class="tabbable">
  <div class="tab-content">
    <form class="edition-form js-edition-form" id="new_edition" method="GET" action="/topics-2" accept-charset="UTF-8" method="post">


  <fieldset>
    <legend>
      <h2>Topics (new taxonomy)</h2>
    </legend>

    <p class="lead add-top-margin add-bottom-margin">
      Changes to topics are published when you save. They do not go through the review process.
    </p>

    <p class="lead">
      Adding a topic makes content appear on <a href="https://www.gov.uk/guidance/how-to-publish-on-gov-uk/creating-and-updating-pages#specialist-tagging-topics">topic pages</a>.
    </p>

    <!-- <div class="suggested-topics">
      <h4>Suggested</h4>


      <ul class="suggested-topics-list">
        <li>
          <label class="checkbox">
            <input type="checkbox" value="#_topic_schools-colleges-childrens-services_curriculum-qualifications-item" id="_topic_schools-colleges-childrens-services_curriculum-qualifications-suggested" name="suggested_topics"> Curriculum and qualifications
          </label>
        </li>
        <li>
          <label class="checkbox">
            <input type="checkbox" value="#_topic_schools-colleges-childrens-services_early-years-item" id="_topic_schools-colleges-childrens-services_early-years-suggested" name="suggested_topics"> Early years
          </label>
        </li>
        <li>
          <label class="checkbox">
            <input type="checkbox" value="#_topic_schools-colleges-childrens-services_school-college-funding-finance-item" id="_topic_schools-colleges-childrens-services_school-college-funding-finance-suggested" name="suggested_topics"> School and college funding and finance
          </label>
        </li>
      </ul>
    </div> -->

    <div class="content content-bordered" >
      {% for topic in displaySelected %}

        <p>{{topic|safe}}</p>

      {% endfor %}
    </div>

    <div class="publishing-controls well">
      <div class="form-actions">
        <button class="btn btn-primary btn-lg">Publish topic changes</button>

        <span class="or_cancel">&nbsp;&nbsp;<a href="#">Cancel</a></span>
      </div>
    </div>

    <div class="topic-columns" id="topic-columns">
      <div class="col col-a">
        <div class="inner"></div>
      </div>
      <div class="col col-b">
        <header class="col-b-header">
          <p class="selected-topic" id="selected-topic"></p>
          <button class="btn btn-primary btn-g">Use this topic</button>
        </header>
        <div class="inner"></div>
      </div>
    </div>

    <div class="topic-lists hidden">

      {% for name, topic in topics %}

        <div class="topic-list" id="{{toSlug(topic.name)}}">

          {% for subTopic in topic.children %}

            <a href="#{{toSlug(subTopic)}}">{{subTopic}}</a>

          {% endfor %}

        </div>

      {% endfor %}

    </div>

  </fieldset>

  <script>

    $('#root').appendTo($('#topic-columns .col-a .inner'))

    $('#topic-columns').on('click', '.col-a a', function(e){
      e.preventDefault()
      var target = $(this).attr('href')
      $('#topic-columns .col-b .inner').empty()
      $(target).appendTo($('#topic-columns .col-b .inner'))
      $('#selected-topic').text($(this).text())
    })

    $('#topic-columns').on('click', '.col-b a', function(e){
      e.preventDefault()
      var target = $(this).attr('href')
      $('#topic-columns .col-a .inner').html($('#topic-columns .col-b .inner').html())
      $('#topic-columns .col-b .inner').empty()
      $(target).appendTo($('#topic-columns .col-b .inner'))
      $('#selected-topic').text($(this).text())
    })

  </script>

      <div class="publishing-controls well">
        <div class="form-actions">
          <button class="btn btn-primary btn-lg">Publish topic changes</button>

          <span class="or_cancel">&nbsp;&nbsp;<a href="#">Cancel</a></span>
        </div>
      </div>


    </form>
  </div>
</div>


{% endblock %}

{% block side_bar %}


{% endblock %}
